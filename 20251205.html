<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数IIから数IIIへ：微積分体系化プリント</title>
    <!-- MathJax for rendering math formulas -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        .intro {
            background-color: #e8f4fc;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 30px;
            border-left: 5px solid #3498db;
        }
        section {
            background-color: #fff;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            break-inside: avoid; /* Printing */
        }
        h2 {
            color: #2980b9;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }
        .bridge-concept {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        .math2, .math3 {
            flex: 1;
            padding: 15px;
            border-radius: 5px;
        }
        .math2 {
            background-color: #fff3e0;
            border: 1px solid #ffe0b2;
        }
        .math3 {
            background-color: #e8f5e9;
            border: 1px solid #c8e6c9;
        }
        .math2 h3 { color: #e67e22; margin-top: 0; font-size: 1.1em; }
        .math3 h3 { color: #27ae60; margin-top: 0; font-size: 1.1em; }
        
        .arrow-box {
            text-align: center;
            font-weight: bold;
            color: #7f8c8d;
            margin: 10px 0;
            font-size: 1.2em;
        }

        .problem {
            margin-top: 10px;
            font-weight: bold;
        }

        button.toggle-ans {
            background-color: #34495e;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 3px;
            font-size: 0.9em;
            margin-top: 5px;
        }
        button.toggle-ans:hover {
            background-color: #2c3e50;
        }

        .answer {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background-color: #f0f0f0;
            border-left: 3px solid #7f8c8d;
            font-size: 0.95em;
        }

        .print-btn {
            display: block;
            margin: 0 auto 20px;
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
        }
        
        @media print {
            body { background-color: white; padding: 0; }
            .print-btn, button.toggle-ans { display: none; }
            .answer { display: block !important; border: none; padding-left: 0; }
            section { box-shadow: none; border: 1px solid #ccc; }
            .intro { display: none; }
        }
        
        @media (max-width: 700px) {
            .bridge-concept { flex-direction: column; }
            .arrow-box::after { content: "▼"; }
        }
    </style>
</head>
<body>

    <button class="print-btn" onclick="window.print()">このページを印刷する</button>

    <h1>数IIから数IIIへ：微積分体系化プリント</h1>
    
    <div class="intro">
        <p><strong>学習のねらい：</strong><br>
        高校2年生で学ぶ「数学II」の微積分は、主に $x^n$ （多項式）の世界でした。<br>
        高校3年生の「数学III」では、その概念を<strong>あらゆる関数（三角関数、指数・対数関数など）</strong>へと拡張し、さらに合成関数や積・商の微分法という強力な道具を手に入れます。<br>
        このプリントでは、数IIの知識がどう数IIIにつながるかを確認しながら問題を解いていきましょう。</p>
    </div>

    <!-- Section 1: Differentiation Definition -->
    <section>
        <h2>1. 微分の定義と極限の世界</h2>
        <p>数IIでは「極限」を直感的に扱いましたが、数IIIでは厳密に扱い、扱える関数の幅を広げます。</p>
        
        <div class="bridge-concept">
            <div class="math2">
                <h3>【数学II】多項式の微分</h3>
                <p>導関数の定義：<br>
                \( f'(x) = \lim_{h \to 0} \frac{f(x+h) - f(x)}{h} \)</p>
                <div class="problem">
                    問1：定義に従って \( f(x) = x^2 \) の導関数を求めよ。
                </div>
                <button class="toggle-ans" onclick="toggleAnswer('ans1')">解答を表示</button>
                <div id="ans1" class="answer">
                    \( \begin{align} 
                    f'(x) &= \lim_{h \to 0} \frac{(x+h)^2 - x^2}{h} \\
                          &= \lim_{h \to 0} \frac{2xh + h^2}{h} \\
                          &= \lim_{h \to 0} (2x + h) = 2x 
                    \end{align} \)
                </div>
            </div>

            <div class="math3">
                <h3>【数学III】三角関数の微分</h3>
                <p>定義は同じですが、極限の公式 \( \lim_{\theta \to 0} \frac{\sin \theta}{\theta} = 1 \) が必要になります。</p>
                <div class="problem">
                    問2：定義に従って \( f(x) = \sin x \) の導関数を求めよ。<br>
                    <small>ヒント：加法定理を使用</small>
                </div>
                <button class="toggle-ans" onclick="toggleAnswer('ans2')">解答を表示</button>
                <div id="ans2" class="answer">
                    \( \begin{align} 
                    f'(x) &= \lim_{h \to 0} \frac{\sin(x+h) - \sin x}{h} \\
                          &= \lim_{h \to 0} \frac{\sin x \cos h + \cos x \sin h - \sin x}{h} \\
                          &= \lim_{h \to 0} \left( \sin x \frac{\cos h - 1}{h} + \cos x \frac{\sin h}{h} \right) 
                    \end{align} \)<br>
                    ここで \( \lim_{h \to 0} \frac{\sin h}{h} = 1 \)、\( \lim_{h \to 0} \frac{\cos h - 1}{h} = 0 \) なので、<br>
                    \( f'(x) = \cos x \)
                </div>
            </div>
        </div>
    </section>

    <!-- Section 2: Calculation Techniques -->
    <section>
        <h2>2. 計算技術の進化（合成関数・積の微分）</h2>
        <p>数IIでは展開してから微分していましたが、数IIIでは「合成関数の微分」「積の微分」を使うことで、複雑な式をそのまま微分できます。</p>

        <div class="bridge-concept">
            <div class="math2">
                <h3>【数学II】展開による微分</h3>
                <p>式を展開して \( x^n \) の和にしてから微分する。</p>
                <div class="problem">
                    問3：\( y = (x+1)^2 \) を展開して微分せよ。
                </div>
                <button class="toggle-ans" onclick="toggleAnswer('ans3')">解答を表示</button>
                <div id="ans3" class="answer">
                    展開すると \( y = x^2 + 2x + 1 \) <br>
                    よって、\( y' = 2x + 2 \)
                </div>
            </div>

            <div class="math3">
                <h3>【数学III】合成関数の微分</h3>
                <p>公式：\( \{ f(g(x)) \}' = f'(g(x)) \cdot g'(x) \)</p>
                <div class="problem">
                    問4：\( y = (x^2+1)^3 \) を展開せずに微分せよ。
                </div>
                <button class="toggle-ans" onclick="toggleAnswer('ans4')">解答を表示</button>
                <div id="ans4" class="answer">
                    \( u = x^2+1 \) と見ると \( y=u^3 \) の微分。<br>
                    \( y' = 3(x^2+1)^2 \cdot (x^2+1)' \)<br>
                    \( y' = 3(x^2+1)^2 \cdot 2x \)<br>
                    \( y' = 6x(x^2+1)^2 \)
                </div>
            </div>
        </div>
        
        <div style="margin-top:20px; border-top:1px dashed #ccc; padding-top:10px;">
            <p><strong>さらに発展：積の微分法</strong> \( (uv)' = u'v + uv' \)</p>
            <div class="problem">
                問5（数III）：\( y = x e^x \) を微分せよ。
            </div>
            <button class="toggle-ans" onclick="toggleAnswer('ans5')">解答を表示</button>
            <div id="ans5" class="answer">
                \( y' = (x)' e^x + x (e^x)' \)<br>
                \( y' = 1 \cdot e^x + x \cdot e^x = e^x(1+x) \)
            </div>
        </div>
    </section>

    <!-- Section 3: Tangent Lines & Graphs -->
    <section>
        <h2>3. 接線とグラフの概形</h2>
        <p>数IIの「増減表」は数IIIでも最強の武器です。ただし、数IIIでは変曲点（第2次導関数 \(y''\)）や極限（漸近線）も考慮します。</p>

        <div class="bridge-concept">
            <div class="math2">
                <h3>【数学II】接線の方程式</h3>
                <p>点 \( (a, f(a)) \) における接線：<br>
                \( y - f(a) = f'(a)(x-a) \)</p>
                <div class="problem">
                    問6：\( y = x^2 \) 上の点 \( (1, 1) \) における接線の方程式を求めよ。
                </div>
                <button class="toggle-ans" onclick="toggleAnswer('ans6')">解答を表示</button>
                <div id="ans6" class="answer">
                    \( y' = 2x \) なので、\( x=1 \) での傾きは \( 2 \)。<br>
                    \( y - 1 = 2(x - 1) \)<br>
                    \( y = 2x - 1 \)
                </div>
            </div>

            <div class="math3">
                <h3>【数学III】対数関数の接線</h3>
                <p>考え方は全く同じです。微分計算が変わるだけです。</p>
                <div class="problem">
                    問7：\( y = \log x \) 上の点 \( (e, 1) \) における接線の方程式を求めよ。<br>
                    <small>（ただし \(\log\) は自然対数）</small>
                </div>
                <button class="toggle-ans" onclick="toggleAnswer('ans7')">解答を表示</button>
                <div id="ans7" class="answer">
                    \( y' = \frac{1}{x} \) なので、\( x=e \) での傾きは \( \frac{1}{e} \)。<br>
                    \( y - 1 = \frac{1}{e}(x - e) \)<br>
                    \( y - 1 = \frac{1}{e}x - 1 \)<br>
                    \( y = \frac{1}{e}x \) （原点を通る！）
                </div>
            </div>
        </div>
    </section>

    <!-- Section 4: Integration -->
    <section>
        <h2>4. 積分の本質と技術</h2>
        <p>「微分と積分は逆演算」という関係は変わりません。数IIIでは、置換積分・部分積分という技術を使い、さらに「体積」へと応用します。</p>

        <div class="bridge-concept">
            <div class="math2">
                <h3>【数学II】面積の計算</h3>
                <p>公式を使って定積分を計算します。<br>
                \( \int x^n dx = \frac{1}{n+1}x^{n+1} + C \)</p>
                <div class="problem">
                    問8：\( \int_{0}^{1} x^2 dx \) を計算せよ。
                </div>
                <button class="toggle-ans" onclick="toggleAnswer('ans8')">解答を表示</button>
                <div id="ans8" class="answer">
                    \( \left[ \frac{x^3}{3} \right]_{0}^{1} = \frac{1}{3} - 0 = \frac{1}{3} \)
                </div>
            </div>

            <div class="math3">
                <h3>【数学III】部分積分法</h3>
                <p>積の微分の逆演算を利用します。<br>
                \( \int f(x)g'(x) dx = f(x)g(x) - \int f'(x)g(x) dx \)</p>
                <div class="problem">
                    問9：\( \int_{0}^{\pi} x \sin x dx \) を計算せよ。
                </div>
                <button class="toggle-ans" onclick="toggleAnswer('ans9')">解答を表示</button>
                <div id="ans9" class="answer">
                    \( \sin x = (-\cos x)' \) と見る。<br>
                    \( \begin{align} 
                    \int_{0}^{\pi} x (-\cos x)' dx &= [ -x \cos x ]_{0}^{\pi} - \int_{0}^{\pi} (x)'(-\cos x) dx \\
                    &= (-\pi \cos \pi - 0) + \int_{0}^{\pi} \cos x dx \\
                    &= (\pi) + [\sin x]_{0}^{\pi} \\
                    &= \pi + 0 = \pi 
                    \end{align} \)
                </div>
            </div>
        </div>

        <div style="margin-top:20px; border-top:1px dashed #ccc; padding-top:10px;">
            <p><strong>数IIIだけの世界：回転体の体積</strong></p>
            <p>数IIの面積 \( \int y dx \) の考え方を拡張し、断面積 \( \pi y^2 \) を積み重ねます。</p>
            <div class="problem">
                問10：\( y = \sqrt{x} \) （\( 0 \le x \le 1 \)）をx軸周りに回転させた立体の体積 \( V \) を求めよ。
            </div>
            <button class="toggle-ans" onclick="toggleAnswer('ans10')">解答を表示</button>
            <div id="ans10" class="answer">
                \( V = \pi \int_{0}^{1} y^2 dx = \pi \int_{0}^{1} (\sqrt{x})^2 dx = \pi \int_{0}^{1} x dx \)<br>
                \( V = \pi \left[ \frac{x^2}{2} \right]_{0}^{1} = \frac{\pi}{2} \)
            </div>
        </div>
    </section>

    <script>
        function toggleAnswer(id) {
            var x = document.getElementById(id);
            if (x.style.display === "block") {
                x.style.display = "none";
            } else {
                x.style.display = "block";
            }
        }
    </script>
</body>
</html>
